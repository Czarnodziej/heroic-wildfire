var MyGame={};MyGame.data=["1","2","3","4","5","6","7","8","9"];MyGame.container=document.getElementById("game");MyGame.table=document.createElement("table");
MyGame.i=0;for(MyGame.r=0;MyGame.r<3;MyGame.r++){MyGame.row=MyGame.table.insertRow(-1);for(MyGame.c=0;MyGame.c<3;MyGame.c++){MyGame.cell=MyGame.row.insertCell(-1);
MyGame.cell.setAttribute("id",MyGame.data[MyGame.i++]);MyGame.cell.className="";}}MyGame.container.appendChild(MyGame.table);MyGame.startBtn=document.createElement("input");
MyGame.startBtn.type="submit";MyGame.startBtn.value="Start";MyGame.cancelBtn=document.createElement("input");MyGame.cancelBtn.type="submit";MyGame.cancelBtn.value="Anuluj";
MyGame.container.appendChild(MyGame.startBtn);MyGame.container.appendChild(MyGame.cancelBtn);MyGame.divTotal=document.createElement("div");MyGame.divTotal.id="divTotal";
MyGame.divTotal.innerHTML="Punkty: ";MyGame.divSpeed=document.createElement("div");MyGame.divSpeed.id="divSpeed";MyGame.divSpeed.innerHTML="Prędkość: ";
MyGame.divFail=document.createElement("div");MyGame.divFail.id="divFail";MyGame.divFail.innerHTML="Szanse: ";MyGame.spanTotal=document.createElement("span");
MyGame.spanTotal.id="Total";MyGame.spanSpeed=document.createElement("span");MyGame.spanSpeed.id="Speed";MyGame.spanFail=document.createElement("span");
MyGame.spanFail.id="Fail";MyGame.container.appendChild(MyGame.divTotal);MyGame.container.appendChild(MyGame.divSpeed);MyGame.container.appendChild(MyGame.divFail);
MyGame.divTotal.appendChild(MyGame.spanTotal);MyGame.divSpeed.appendChild(MyGame.spanSpeed);MyGame.divFail.appendChild(MyGame.spanFail);MyGame.totalCounter=0;
MyGame.speedCounter=1;MyGame.failCounter=5;MyGame.spanTotal.innerHTML=MyGame.totalCounter;MyGame.spanSpeed.innerHTML=MyGame.speedCounter;MyGame.spanFail.innerHTML=MyGame.failCounter;
MyGame.setSpeed=function(){if(MyGame.totalCounter>15){MyGame.cellShowSpeed=200;MyGame.spanSpeed.innerHTML=4;}else{if(MyGame.totalCounter>10){MyGame.cellShowSpeed=500;
MyGame.spanSpeed.innerHTML=3;}else{if(MyGame.totalCounter>5){MyGame.cellShowSpeed=800;MyGame.spanSpeed.innerHTML=2;}else{MyGame.cellShowSpeed=1000;}}}};
MyGame.cellShowSpeed=1000;MyGame.randomCellColor=function(){var b=Math.floor(Math.random()*2),a=Math.floor(Math.random()*10)+1,c=document.getElementById(a);
if(c!==null){if(b===0){c.className+=" gameCellGreen";setTimeout(function(){c.className="";MyGame.failCounter-=1;MyGame.spanFail.innerHTML=MyGame.failCounter;
c=null;},MyGame.cellShowSpeed);}else{c.className+=" gameCellRed";setTimeout(function(){c.className="";c=null;},MyGame.cellShowSpeed);}c.onclick=function(){if(c.className===" gameCellGreen"){MyGame.totalCounter+=1;
MyGame.failCounter+=1;MyGame.spanTotal.innerHTML=MyGame.totalCounter;MyGame.setSpeed();c.className="";}else{if(c.className===" gameCellRed"){c.className="";
MyGame.failCounter-=1;MyGame.spanFail.innerHTML=MyGame.failCounter;if(MyGame.spanFail.innerHTML<0){MyGame.spanFail.innerHTML=0;}}}};}};MyGame.startBtn.onclick=function(){MyGame.spanTotal.innerHTML=0;
MyGame.spanSpeed.innerHTML=1;MyGame.spanFail.innerHTML=5;var a=setInterval(function(){if(MyGame.failCounter>0){MyGame.randomCellColor();}else{clearInterval(a);
alert("Liczba punktów = "+MyGame.totalCounter);MyGame.totalCounter=0;MyGame.failCounter=5;}},1000);MyGame.cancelBtn.onclick=function(){clearInterval(a);
MyGame.spanTotal.innerHTML=0;MyGame.spanSpeed.innerHTML=1;MyGame.spanFail.innerHTML=5;alert("Liczba punktów = "+MyGame.totalCounter);MyGame.totalCounter=0;
MyGame.failCounter=5;};};